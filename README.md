# Audio Bot

Audio Bot — это телеграм-бот, который обрабатывает голосовые сообщения, транскрибирует их в текст и сохраняет в базу данных. Бот также может обрабатывать текст с помощью OpenAI для создания краткого пересказа.

## Как работает бот

1. Пользователь отправляет голосовое сообщение боту в Telegram.
2. Бот загружает аудиофайл и транскрибирует его в текст с помощью модели Whisper.
3. Если бот работает в локальном режиме, транскрибированный текст сохраняется как есть. В противном случае текст обрабатывается с помощью OpenAI для создания краткого пересказа.
4. Обработанный текст и краткий пересказ сохраняются в базе данных.
5. Пользователь может запросить непрочитанные сообщения, и бот отправит их в виде текстовых сообщений.

## Параметры запуска

- `-test`: При использовании этого параметра бот использует базовую модель Whisper для транскрипции, что позволяет снизить нагрузку на систему во время тестирования.
- `-local`: При использовании этого параметра бот не обрабатывает текст с помощью OpenAI, а сохраняет транскрибированный текст как есть.

## Установка на сервер

### Требования
- **Минимум**: 1 CPU, 1GB RAM (базовая модель Whisper)
- **Рекомендуется**: 2 CPU, 2GB RAM
- Для модели large: 4GB RAM, 2 CPU

### Шаги установки
1. Установите Docker и Docker Compose:
   ```bash
   sudo apt-get update
   sudo apt-get install docker.io docker-compose
   ```
2. Скопируйте файлы проекта на сервер
3. Настройте `config.ini`
4. Запустите:
   ```bash
   chmod +x start.sh
   ./start.sh
   ```

### Обновление
1. Остановите контейнер:
   ```bash
   docker-compose down
   ```
2. Обновите файлы
3. Перезапустите:
   ```bash
   docker-compose build
   docker-compose up -d
   ```

### Ограничения
- Базовая модель: 1GB RAM
- Модель large: 4GB RAM
- Длинные аудио (>1 мин): 4GB RAM 